<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started with pins • pins</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started with pins">
<meta property="og:description" content="pins">
<meta property="og:image" content="https://pins.rstudio.com/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pins</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pins.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/articles/internals.html">Pins internals</a>
    </li>
    <li>
      <a href="../articles/articles/use-cases.html">Use cases</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/pins/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="pins_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started with pins</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pins/blob/master/vignettes/pins.Rmd"><code>vignettes/pins.Rmd</code></a></small>
      <div class="hidden name"><code>pins.Rmd</code></div>

    </div>

    
    
<p>The pins package helps you publish data sets, models, and other R objects, making it easy to share them across projects and with your colleagues. You can pin objects to a variety of “boards”, including local folders (to share on a networked drive or with dropbox), RStudio connect, Amazon S3, and more. This vignette will introduce you to the basics of pins.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span></code></pre></div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<p>Every pin lives in a pin board, so you have to start by creating a pin board. In this vignette I’m going to use a temporary board which is automatically deleted when your R session is over:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_folder.html">board_temp</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>But in real-life, you’d pick another board depending on where you want the pins data to live. Here are a few options:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>board &lt;-<span class="st"> </span><span class="kw">board_local</span>() <span class="co"># share data across R sessions on the same computer</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>board &lt;-<span class="st"> </span><span class="kw">board_folder</span>(<span class="st">"~/Dropbox"</span>) <span class="co"># share data with others using dropbox</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>board &lt;-<span class="st"> </span><span class="kw">board_folder</span>(<span class="st">"Z:</span><span class="ch">\\</span><span class="st">my-team\pins"</span>) <span class="co"># share data using a shared network drive</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>board &lt;-<span class="st"> </span><span class="kw">board_rsconnect</span>() <span class="co"># share data with RStudio connect</span></span></code></pre></div>
</div>
<div id="reading-and-writing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#reading-and-writing-data" class="anchor"></a>Reading and writing data</h2>
<p>Once you have a pin board, you can save data to it with <code><a href="../reference/pin_read.html">pin_write()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>
<span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars"</span><span class="op">)</span>
<span class="co">#&gt; Guessing `type = 'rds'`</span>
<span class="co">#&gt; Creating new version 'd8cd0a2018b5407c'</span></code></pre></div>
<p>The first argument is the object to save (usually a data frame, but it can be any R object), and the second argument defines the “name” of pin. The name is important and is basically equivalent to a file name: you’ll use it when you later want to read the data from the pin. The only rule for a pin name is that it can’t contain slashes.</p>
<p>As you can see, pins has chosen to save this data to a <code>.rds</code> file. But you can choose from a variety of other options depending on your goals:</p>
<ul>
<li>
<code>type = "rds"</code> uses <code>writeRDS()</code> to save a binary R data file. It can save any R object but it’s only readable from R, not other languages.</li>
<li>
<code>type = "csv"</code> uses <code><a href="https://rdrr.io/r/utils/write.table.html">write.csv()</a></code> to write a <code>.csv</code> file. CSVs can read by any application, but only support a simple columns (e.g. numbers, strings, dates) and are largely large and slow.</li>
<li>
<code>type = "arrow"</code> uses <code><a href="https://arrow.apache.org/docs/r//reference/write_feather.html">arrow::write_feather()</a></code> to create an arrow/feather file. <a href="https://arrow.apache.org">Arrow</a> is a modern, language-independent, high-performance, file format for design for data science. Not every tool can read arrow files, but support is growing rapidly.</li>
<li>
<code>type = "json"</code> uses <code><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html">jsonlite::write_json()</a></code> to create a <code>.json</code> file. Pretty much every programming language can read json files, but they only work well for nested lists.</li>
</ul>
<p>In a future session, you can read that data back with <code><a href="../reference/pin_read.html">pin_read()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_read</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 32 x 11</span>
<span class="co">#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span>
<span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span>
<span class="co">#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span>
<span class="co">#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span>
<span class="co">#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span>
<span class="co">#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span>
<span class="co">#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1</span>
<span class="co">#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span>
<span class="co">#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span>
<span class="co">#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span>
<span class="co">#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4</span>
<span class="co">#&gt; # … with 22 more rows</span></code></pre></div>
<p>You don’t need to supply the file type when reading data from a pin because pins automatically stores that in the metadata, the topic of the next section.</p>
<p>Note that when the data lives elsewhere, pins takes care of downloading and caching so that it’s only re-downloaded when needed. That said, most boards transmit pins over HTTP, and this is going to be slow and possibly unreliable for very large pins. As a general rule of thumb, we don’t recommend using pins with files over 500 MB. If you find yourself routinely pinning data larger that this, you might need to reconsider your data engineering pipeline.</p>
</div>
<div id="metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#metadata" class="anchor"></a>Metadata</h2>
<p>Every pin is accompanied by some metadata that you can access with <code><a href="../reference/pin_meta.html">pin_meta()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_meta.html">pin_meta</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span>
<span class="co">#&gt; List of 8</span>
<span class="co">#&gt;  $ file       : chr "mtcars.rds"</span>
<span class="co">#&gt;  $ file_size  : int 3194</span>
<span class="co">#&gt;  $ pin_hash   : chr "d8cd0a2018b5407c"</span>
<span class="co">#&gt;  $ type       : chr "rds"</span>
<span class="co">#&gt;  $ description: chr "A pin containing a data frame with 32 rows and 11 columns"</span>
<span class="co">#&gt;  $ created    : chr "2021-05-18T20:09:20"</span>
<span class="co">#&gt;  $ api_version: num 1</span>
<span class="co">#&gt;  $ local      :List of 2</span>
<span class="co">#&gt;   ..$ dir    : 'fs_path' chr "/tmp/Rtmpdyu9Zx/pins-4a3d5f51e8ea/mtcars/d8cd0a2018b5407c"</span>
<span class="co">#&gt;   ..$ version: chr "d8cd0a2018b5407c"</span></code></pre></div>
<p>This shows you the metadata that’s generated by default. This includes:</p>
<ul>
<li><p><code>description</code>, a brief textual description of the dataset.</p></li>
<li><p><code>created</code>, the date-time when the pin was created.</p></li>
<li><p><code>file_size</code>, the size (in bytes) of the underlying file.</p></li>
<li><p><code>pin_hash</code>, a unique hash that you can supply to <code><a href="../reference/pin_read.html">pin_read()</a></code> to ensure that you’re reading exactly the data that you expect.</p></li>
</ul>
<p>When creating the pin, you can override the default description and provide additional metadata that is stored with the data:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="st">"mtcars"</span>, 
  desc <span class="op">=</span> <span class="st">"Data extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973–74 models)."</span>,
  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    source <span class="op">=</span> <span class="st">"Henderson and Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391–411."</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; Guessing `name = 'mtcars'`</span>
<span class="co">#&gt; Guessing `type = 'rds'`</span>
<span class="co">#&gt; Replacing version 'd8cd0a2018b5407c' with 'e4f1cb07e8737ec2'</span>
<span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_meta.html">pin_meta</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span>
<span class="co">#&gt; List of 9</span>
<span class="co">#&gt;  $ file       : chr "mtcars.rds"</span>
<span class="co">#&gt;  $ file_size  : int 36</span>
<span class="co">#&gt;  $ pin_hash   : chr "e4f1cb07e8737ec2"</span>
<span class="co">#&gt;  $ type       : chr "rds"</span>
<span class="co">#&gt;  $ description: chr "Data extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobi"| __truncated__</span>
<span class="co">#&gt;  $ created    : chr "2021-05-18T20:09:20"</span>
<span class="co">#&gt;  $ api_version: num 1</span>
<span class="co">#&gt;  $ user       :List of 1</span>
<span class="co">#&gt;   ..$ source: chr "Henderson and Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391–411."</span>
<span class="co">#&gt;  $ local      :List of 2</span>
<span class="co">#&gt;   ..$ dir    : 'fs_path' chr "/tmp/Rtmpdyu9Zx/pins-4a3d5f51e8ea/mtcars/e4f1cb07e8737ec2"</span>
<span class="co">#&gt;   ..$ version: chr "e4f1cb07e8737ec2"</span></code></pre></div>
<p>While we’ll do our best to keep the automatically generated metadata consistent over time, I’d recommend manually capturing anything you really care about in <code>metadata</code>.</p>
</div>
<div id="versioning" class="section level2">
<h2 class="hasAnchor">
<a href="#versioning" class="anchor"></a>Versioning</h2>
<p>In many situations it’s useful to version pins, so that writing to an existing pin does not replace the existing data, but instead adds a new copy. There are two ways to turn versioning on:</p>
<ul>
<li>
<p>When you create a board you can turn versioning on for every pin in that board:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_folder.html">board_temp</a></span><span class="op">(</span>versions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>When you write a pin, you can specifically request that versioning be turned on for that pin:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_folder.html">board_temp</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="va">mtcars</span>, versioned <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</li>
</ul>
<p>Some boards, like <code><a href="../reference/board_rsconnect.html">board_rsconnect()</a></code> have versioning on by default, because it’s automatically supported by the underlying storage engine. In most cases, however, you’ll need to explicitly enable it.</p>
<p>Once you have turned versioning on, every <code><a href="../reference/pin_read.html">pin_write()</a></code> will create a new version:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_folder.html">board_temp</a></span><span class="op">(</span>versions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, name <span class="op">=</span> <span class="st">"x"</span>, type <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="co">#&gt; Creating new version 'ab444e71e875d63b'</span>
<span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, name <span class="op">=</span> <span class="st">"x"</span>, type <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="co">#&gt; Creating new version 'a077a308c264f4ec'</span>
<span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">7</span>, name <span class="op">=</span> <span class="st">"x"</span>, type <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="co">#&gt; Creating new version '0a284e1293902068'</span></code></pre></div>
<p>You can list all the available versions with <code><a href="../reference/pin_versions.html">pin_versions()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_versions.html">pin_versions</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 3 x 2</span>
<span class="co">#&gt;   version          created            </span>
<span class="co">#&gt;   &lt;chr&gt;            &lt;dttm&gt;             </span>
<span class="co">#&gt; 1 ab444e71e875d63b NA                 </span>
<span class="co">#&gt; 2 a077a308c264f4ec NA                 </span>
<span class="co">#&gt; 3 0a284e1293902068 NA</span></code></pre></div>
<p>(Pins does not currently provide any tool to remove old versions, but this is likely to be implemented in the future.)</p>
<p>By default, <code><a href="../reference/pin_read.html">pin_read()</a></code> will return the most recent version:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_read</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span>
<span class="co">#&gt; [1] 3 4 5 6 7</span></code></pre></div>
<p>But you can request an older version by supplying the <code>version</code> argument:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_read</a></span><span class="op">(</span><span class="st">"x"</span>, version <span class="op">=</span> <span class="st">"ab444e71e875d63b"</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3 4 5</span></code></pre></div>
</div>
<div id="reading-and-writing-files" class="section level2">
<h2 class="hasAnchor">
<a href="#reading-and-writing-files" class="anchor"></a>Reading and writing files</h2>
<p>So far we’ve focussed on <code><a href="../reference/pin_read.html">pin_write()</a></code> and <code><a href="../reference/pin_read.html">pin_read()</a></code> which work with R objects. pins also provides the lower-level <code><a href="../reference/pin_download.html">pin_upload()</a></code> and <code><a href="../reference/pin_download.html">pin_download()</a></code> which work with files on disk. You can use them to share data that’s otherwise unsupported by pins.</p>
<p><code><a href="../reference/pin_download.html">pin_upload()</a></code> works like <code><a href="../reference/pin_read.html">pin_write()</a></code> but instead of an R object you give it a vector of paths. I’ll start by creating a few files in the temp directory:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"mtcars.csv"</span>, <span class="st">"alphabet.txt"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">paths</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="va">letters</span>, <span class="va">paths</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p>Now I can upload those to the board:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_download.html">pin_upload</a></span><span class="op">(</span><span class="va">paths</span>, <span class="st">"example"</span><span class="op">)</span>
<span class="co">#&gt; Creating new version 'e9d422a36d87ea43185b20bdd1406142'</span></code></pre></div>
<p><code><a href="../reference/pin_download.html">pin_download()</a></code> returns a vector of paths:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_download.html">pin_download</a></span><span class="op">(</span><span class="st">"example"</span><span class="op">)</span>
<span class="co">#&gt; [1] "/tmp/Rtmpdyu9Zx/pins-4a3d5f51e8ea/example/e9d422a36d87ea43185b20bdd1406142/mtcars.csv"  </span>
<span class="co">#&gt; [2] "/tmp/Rtmpdyu9Zx/pins-4a3d5f51e8ea/example/e9d422a36d87ea43185b20bdd1406142/alphabet.txt"</span></code></pre></div>
<p>It’s now your job to handle them. You should treat these paths as internal implementation details — never modify them and never save them for use outside of pins.</p>
<p>Note that you can’t <code><a href="../reference/pin_read.html">pin_read()</a></code> something you pinned with <code><a href="../reference/pin_download.html">pin_upload()</a></code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_read</a></span><span class="op">(</span><span class="st">"example"</span><span class="op">)</span>
<span class="co">#&gt; Error: Pin created with `pin_upload()`</span>
<span class="co">#&gt; ℹ Retrieve uploaded paths with `pin_download()`</span></code></pre></div>
<p>But you can <code><a href="../reference/pin_download.html">pin_download()</a></code> something that you’ve pinned with <code><a href="../reference/pin_read.html">pin_write()</a></code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_download.html">pin_download</a></span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span>
<span class="co">#&gt; [1] "/tmp/Rtmpdyu9Zx/pins-4a3d5f51e8ea/mtcars/e4f1cb07e8737ec2/mtcars.rds"</span></code></pre></div>
</div>
<div id="caching" class="section level2">
<h2 class="hasAnchor">
<a href="#caching" class="anchor"></a>Caching</h2>
<p>The primary purpose of pins is to make it easy to share data. But pins is also designed to help you spend as little time as possible downloading data. <code><a href="../reference/pin_read.html">pin_read()</a></code> and <code><a href="../reference/pin_download.html">pin_download()</a></code> automatically cache remote pins: they maintain a local copy of the data (so it’s fast) but always check that it’s up to date (so your analysis doesn’t use stale data).</p>
<p>Wouldn’t it be nice if you could take advantage of this feature for any dataset on the internet? That’s the idea behind <code><a href="../reference/board_url.html">board_url()</a></code> — you can assemble your own board from datasets, wherever they live on the internet. For example, this code create a board containing a single pin, <code>penguins</code>, that refers to some data I found on GitHub:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_url.html">board_url</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
  <span class="st">"penguins"</span> <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/allisonhorst/palmerpenguins/master/inst/extdata/penguins_raw.csv"</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<p>You can read this data by combining <code><a href="../reference/pin_download.html">pin_download()</a></code> with <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/pin_download.html">pin_download</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span>check.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 344 x 17</span>
<span class="co">#&gt;    studyName `Sample Number` Species       Region Island Stage   `Individual ID`</span>
<span class="co">#&gt;    &lt;chr&gt;               &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;          </span>
<span class="co">#&gt;  1 PAL0708                 1 Adelie Pengu… Anvers Torge… Adult,… N1A1           </span>
<span class="co">#&gt;  2 PAL0708                 2 Adelie Pengu… Anvers Torge… Adult,… N1A2           </span>
<span class="co">#&gt;  3 PAL0708                 3 Adelie Pengu… Anvers Torge… Adult,… N2A1           </span>
<span class="co">#&gt;  4 PAL0708                 4 Adelie Pengu… Anvers Torge… Adult,… N2A2           </span>
<span class="co">#&gt;  5 PAL0708                 5 Adelie Pengu… Anvers Torge… Adult,… N3A1           </span>
<span class="co">#&gt;  6 PAL0708                 6 Adelie Pengu… Anvers Torge… Adult,… N3A2           </span>
<span class="co">#&gt;  7 PAL0708                 7 Adelie Pengu… Anvers Torge… Adult,… N4A1           </span>
<span class="co">#&gt;  8 PAL0708                 8 Adelie Pengu… Anvers Torge… Adult,… N4A2           </span>
<span class="co">#&gt;  9 PAL0708                 9 Adelie Pengu… Anvers Torge… Adult,… N5A1           </span>
<span class="co">#&gt; 10 PAL0708                10 Adelie Pengu… Anvers Torge… Adult,… N5A2           </span>
<span class="co">#&gt; # … with 334 more rows, and 10 more variables: Clutch Completion &lt;chr&gt;,</span>
<span class="co">#&gt; #   Date Egg &lt;chr&gt;, Culmen Length (mm) &lt;dbl&gt;, Culmen Depth (mm) &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Flipper Length (mm) &lt;int&gt;, Body Mass (g) &lt;int&gt;, Sex &lt;chr&gt;,</span>
<span class="co">#&gt; #   Delta 15 N (o/oo) &lt;dbl&gt;, Delta 13 C (o/oo) &lt;dbl&gt;, Comments &lt;chr&gt;</span></code></pre></div>
<p><code><a href="../reference/board_url.html">board_url()</a></code> requires a bit of work compared to using <code><a href="https://rdrr.io/r/utils/download.file.html">download.file()</a></code> or similar but it has a big payoff: the data is cached locally (so it’s fast to read) and will be re-downloaded when it changes (so it’s never stale).</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Here I’m using <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> to the reduce the dependencies of the pins package. For real code I’d recommend using <code><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html">data.table::fread()</a></code> or <code>readr::read_csv().</code><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Javier Luraschi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
