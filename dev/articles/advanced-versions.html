<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Versioning • pins</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Versioning">
<meta property="og:description" content="pins">
<meta property="og:image" content="https://pins.rstudio.com/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pins</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/pins.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/articles/pins-rstudio.html">Using Pins in RStudio</a>
    </li>
    <li>
      <a href="../articles/advanced-versions.html">Versioning</a>
    </li>
    <li>
      <a href="../articles/articles/use-cases.html">Use cases</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/pins/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="advanced-versions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Versioning</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pins/blob/master/vignettes/advanced-versions.Rmd"><code>vignettes/advanced-versions.Rmd</code></a></small>
      <div class="hidden name"><code>advanced-versions.Rmd</code></div>

    </div>

    
    
<p>In most cases, a remote resource does not change over time. For example, the following “retail sales example” dataset is unlikely to change and can be retrieved as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin.html">pin</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/facebook/prophet/master/examples/example_retail_sales.csv"</span>,
    name <span class="op">=</span> <span class="st">"retail_sales"</span><span class="op">)</span></code></pre></div>
<p>To ensure this dataset does not change, we can retrieve a unique signature to identify this resource using <code><a href="../reference/pin_info.html">pin_info()</a></code> as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin_info.html">pin_info</a></span><span class="op">(</span><span class="st">"retail_sales"</span>, signature <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code># Source: local&lt;example_retail_sales&gt; [files]
# Signature: 5f7e575b23e3bb4a802358864be2dbc665ef1ab8
# Properties:
#   - path: example_retail_sales
#   - extension: csv</code></pre>
<p>This signature can then be used to ensure the dataset does not change. For instance, you can share the following code with others to ensure they get the exact same dataset:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin.html">pin</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/facebook/prophet/master/examples/example_retail_sales.csv"</span>,
    signature <span class="op">=</span> <span class="st">"5f7e575b23e3bb4a802358864be2dbc665ef1ab8"</span><span class="op">)</span></code></pre></div>
<p>You can also use <code>signature</code> with <code><a href="../reference/pin_get.html">pin_get()</a></code>. Notice that the operation will fail if the signatures don’t match.</p>
<p>In contrast, other datasets are expected to change and require us to think which particular version we are retrieving or sharing in a given board.</p>
<div id="versioning-boards" class="section level2">
<h2 class="hasAnchor">
<a href="#versioning-boards" class="anchor"></a>Versioning Boards</h2>
<p>Currently, all boards support versioning; however, not all boards support versions by default. Boards like <a href="boards-github.html">GitHub</a>, <a href="boards-kaggle.html">Kaggle</a> and <a href="boards-rsconnect.html">RStudio Connect</a>, support versioning by default and you can explore previous versions using <code><a href="../reference/pin_versions.html">pin_versions()</a></code>.</p>
<p>For instance, let’s take a look at previous versions of a Kaggle dataset:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin_versions.html">pin_versions</a></span><span class="op">(</span><span class="st">"new-york-city/nypd-motor-vehicle-collisions"</span>, board <span class="op">=</span> <span class="st">"kaggle"</span><span class="op">)</span></code></pre></div>
<pre><code># A tibble: 10 x 4
   version created                  author      message                       
   &lt;chr&gt;   &lt;chr&gt;                    &lt;chr&gt;       &lt;chr&gt;                         
 1 12      2019-12-02T08:47:02.517Z Kaggle Team Automated data update 20191202
 2 11      2019-11-26T14:13:33.05Z  Kaggle Team Automated data update 20191126
 3 10      2019-11-22T19:39:42.85Z  Kaggle Team Automated data update 20191122
 4 9       2019-11-12T15:11:14.477Z Kaggle Team Automated data update 20191112
 5 8       2019-11-04T00:14:16.933Z Kaggle Team Automated data update 20191104
 6 7       2019-10-29T23:24:22.33Z  Kaggle Team Automated data update 20191029
 7 6       2019-10-24T08:44:45.307Z Kaggle Team Automated data update 20191024
 8 5       2019-10-16T20:07:22.91Z  Kaggle Team Automated data update 20191016
 9 4       2019-10-12T06:37:25.1Z   Kaggle Team Automated data update 20191012
10 3       2019-10-07T13:46:46.657Z Kaggle Team Automated data update 20191007</code></pre>
<p>You can then retrieve specific versions with the <code>version</code> parameter in <code><a href="../reference/pin_get.html">pin_get()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin_get.html">pin_get</a></span><span class="op">(</span><span class="st">"new-york-city/nypd-motor-vehicle-collisions"</span>, version <span class="op">=</span> <span class="fl">3</span>, board <span class="op">=</span> <span class="st">"kaggle"</span><span class="op">)</span></code></pre></div>
<pre><code>[1] "nypd-motor-vehicle-collisions/_versions/3/Collision_DataDictionary.xlsx"    
[2] "nypd-motor-vehicle-collisions/_versions/3/nypd-motor-vehicle-collisions.csv"
[3] "nypd-motor-vehicle-collisions/_versions/3/socrata_metadata.json" </code></pre>
<p>Other boards, like the default local board, <a href="boards-azure.html">Azure</a>, <a href="boards-dospace.html">Digital Ocean</a>, <a href="boards-gcloud.html">Google Cloud</a>, and <a href="boards-s3.html">S3</a>, do not support versions by default since additional storage cost is incurred. In such cases, one needs to opt-in to use versions when registering a board by setting the <code>versions</code> parameter to <code>TRUE</code>.</p>
<p>For instance, in your local computer you can register the local board with versioning as follows:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/board_register.html">board_register</a></span><span class="op">(</span><span class="st">"local"</span>, versions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>From now on, when <code><a href="../reference/pin.html">pin()</a></code> is used, multiple versions will be stored locally:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># store iris as mtcars dataset</span>
<span class="fu"><a href="../reference/pin.html">pin</a></span><span class="op">(</span><span class="va">iris</span>, <span class="st">"mtcars"</span>, description <span class="op">=</span> <span class="st">"the mtcars dataset"</span><span class="op">)</span>

<span class="co"># oops! we meant mtcars as mtcars</span>
<span class="fu"><a href="../reference/pin.html">pin</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"mtcars"</span>, description <span class="op">=</span> <span class="st">"the mtcars dataset"</span><span class="op">)</span></code></pre></div>
<p>Which you can then list with <code><a href="../reference/pin_versions.html">pin_versions()</a></code>, notice that the most recent version is displayed first:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin_versions.html">pin_versions</a></span><span class="op">(</span><span class="st">"mtcars"</span>, board <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span></code></pre></div>
<pre><code># A tibble: 2 x 1
  version
  &lt;chr&gt;  
1 a5c5cb2
2 d93d422</code></pre>
<p>You can then retrieve specific versions:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pin_get.html">pin_get</a></span><span class="op">(</span><span class="st">"mtcars"</span>, version <span class="op">=</span> <span class="st">"d93d422"</span>, board <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span></code></pre></div>
<pre><code># A tibble: 150 x 5
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
 1          5.1         3.5          1.4         0.2 setosa 
 2          4.9         3            1.4         0.2 setosa 
 3          4.7         3.2          1.3         0.2 setosa 
 4          4.6         3.1          1.5         0.2 setosa 
 5          5           3.6          1.4         0.2 setosa 
 6          5.4         3.9          1.7         0.4 setosa 
 7          4.6         3.4          1.4         0.3 setosa 
 8          5           3.4          1.5         0.2 setosa 
 9          4.4         2.9          1.4         0.2 setosa 
10          4.9         3.1          1.5         0.1 setosa 
# … with 140 more rows</code></pre>
<p>A similar approach can be followed with <code><a href="../reference/board_register.html">board_register_azure()</a></code>, <code><a href="../reference/board_register.html">board_register_dospace()</a></code>, <code><a href="../reference/board_register.html">board_register_gcloud()</a></code>, <code><a href="../reference/board_register.html">board_register_s3()</a></code>, and <code><a href="../reference/board_register.html">board_register_datatxt()</a></code>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Javier Luraschi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
