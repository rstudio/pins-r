<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automate Dataset Updates • pins</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="Automate Dataset Updates">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">pins</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Pins</li>
    <li>
      <a href="../../articles/pins-starting.html">Getting Started</a>
    </li>
    <li>
      <a href="../../articles/pins-rstudio.html">Using Pins in RStudio</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Boards</li>
    <li>
      <a href="../../articles/boards-understanding.html">Understanding Boards</a>
    </li>
    <li>
      <a href="../../articles/boards-github.html">GitHub</a>
    </li>
    <li>
      <a href="../../articles/boards-kaggle.html">Kaggle</a>
    </li>
    <li>
      <a href="../../articles/boards-rsconnect.html">RStudio Connect</a>
    </li>
    <li>
      <a href="../../articles/boards-websites.html">Websites</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Extensions</li>
    <li>
      <a href="../../articles/pins-extending.html">Extending Pins</a>
    </li>
    <li>
      <a href="../../articles/boards-extending.html">Extending Boards</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Use Cases
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Overview</li>
    <li>
      <a href="../../articles/use-cases.html">Use Cases</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Use Cases</li>
    <li>
      <a href="../../articles/use-cases/reuse-tidy-datasets.html">Reuse Tidy Datasets</a>
    </li>
    <li>
      <a href="../../articles/use-cases/automate-dataset-updates.html">Automate Dataset Updates</a>
    </li>
    <li>
      <a href="../../articles/use-cases/create-data-pipelines.html">Create Data Pipelines</a>
    </li>
    <li>
      <a href="../../articles/use-cases/update-plumber-and-shiny-apps.html">Update Plumber and Shiny Apps</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://blog.rstudio.com/2019/09/09/pin-discover-and-share-resources/">Version 0.1.0</a>
    </li>
    <li>
      <a href="../../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/pins">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Automate Dataset Updates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pins/blob/master/vignettes/use-cases/automate-dataset-updates.Rmd"><code>vignettes/use-cases/automate-dataset-updates.Rmd</code></a></small>
      <div class="hidden name"><code>automate-dataset-updates.Rmd</code></div>

    </div>

    
    
<p>After datasets are shared (as showcased in the <a href="reuse-tidy-datasets.htm">Reuse Tidy Datasets</a> use case), it is often useful to also consider automating this process. This is especially interesting for datasets that tend to get out-of-date constantly.</p>
<p>For example, if we were interested in updating a pin to track daily news from the <a href="http://feeds.bbci.co.uk/news/world/rss.xml">BBC World News RSS</a>, we could create the following <a href="https://rmarkdown.rstudio.com/">R Markdown</a> report to download the RSS feed, tidy the news, and publish a pin with the up-to-date news:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown"><code class="sourceCode markdown"><a class="sourceLine" id="cb1-1" title="1">---</a>
<a class="sourceLine" id="cb1-2" title="2">title: "RStudio Connect -- World News"</a>
<a class="sourceLine" id="cb1-3" title="3">---</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="bn">```{r, setup, include = FALSE}</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="bn">library(pins)</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="bn">board_register_rsconnect(key = Sys.getenv("RSCONNECT_API"),</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="bn">                         server = "https://rstudio-connect-server")</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="bn">```</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11">Create the <span class="bn">`world_news`</span> data frame,</a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="bn">```{r  fig.align='center', warning=FALSE}</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="bn">library(xml2)</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="bn">world_news &lt;- data.frame(title = xml_text(xml_find_all(</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="bn">  read_xml("http://feeds.bbci.co.uk/news/rss.xml"), "///item/title/node()")))</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="bn">```</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20">Which you can then share as a pin,</a>
<a class="sourceLine" id="cb1-21" title="21"></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="bn">```{r}</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="bn">pin(world_news, "worldnews", board = "rsconnect")</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="bn">```</span></a></code></pre></div>
<p>While you can run manually this report each time you need the <code>worldnews</code> pin updated, using automated techniques makes so much sense.</p>
<p>The <code>pins</code> package does not provide support to automate execution of R code; however, many tools and services can be used in combination with <code>pins</code> to update datasets with ease. For instance, when using GitHub, Travis can be used in combination with a <code>GITHUB_PAT</code> environment variable to knit this daily news report and update pins in GitHub. Similarly, using RStudio Connect, we can easily publish this report and configure RStudio Connect to run this report daily – the pin will then be kept up-to-date, every-day, automatically!</p>
<p>You can preview the <code>worldnews</code> dataset at <a href="https://beta.rstudioconnect.com/connect/#/apps/6446/access">beta.rstudioconnect.com/connect/#/apps/6446/access</a>:</p>
<p><a href="https://beta.rstudioconnect.com/connect/#/apps/6446/access"><img src="images/schedule-updates-rsconnect.png"></a></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Javier Luraschi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
